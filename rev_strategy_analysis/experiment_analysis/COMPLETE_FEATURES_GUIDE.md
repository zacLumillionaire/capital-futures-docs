# ğŸ¯ åå‘ç­–ç•¥å®Œæ•´åŠŸèƒ½æŒ‡å—

## ğŸ“‹ ç›®éŒ„
1. [åå‘ç­–ç•¥Web GUI](#åå‘ç­–ç•¥web-gui)
2. [MDDæœ€å°åŒ–å¯¦é©—ç³»çµ±](#mddæœ€å°åŒ–å¯¦é©—ç³»çµ±)
3. [åƒæ•¸å„ªåŒ–å¯¦é©—ç³»çµ±](#åƒæ•¸å„ªåŒ–å¯¦é©—ç³»çµ±)
4. [æ™‚é–“å€é–“å¯¦é©—ç³»çµ±](#æ™‚é–“å€é–“å¯¦é©—ç³»çµ±)
5. [åœæåœåˆ©é»å¯¦é©—ç³»çµ±](#åœæåœåˆ©é»å¯¦é©—ç³»çµ±)
6. [ç³»çµ±æ¶æ§‹èªªæ˜](#ç³»çµ±æ¶æ§‹èªªæ˜)

---

## ğŸ–¥ï¸ åå‘ç­–ç•¥Web GUI

### ğŸ“ æ–‡ä»¶ä½ç½®
```
rev_strategy_analysis/rev_web_trading_gui.py
```

### ğŸš€ å•Ÿå‹•æ–¹å¼
```bash
cd rev_strategy_analysis
python rev_web_trading_gui.py
```

### ğŸ›ï¸ åŠŸèƒ½ç‰¹è‰²

#### âœ… åŸºæœ¬å›æ¸¬åŠŸèƒ½
- **æ™‚é–“ç¯„åœè¨­å®š**: é–‹å§‹æ—¥æœŸã€çµæŸæ—¥æœŸ
- **æ™‚é–“å€é–“è¨­å®š**: é–‹ç›¤ç¯„åœæ™‚é–“ (å¦‚ 10:30-10:31)
- **åå‘ç­–ç•¥**: è‡ªå‹•å°‡åŸç­–ç•¥ä¿¡è™Ÿåå‘

#### âœ… ä¸‰å£ç¨ç«‹åœæè¨­å®š
- **ç¬¬1å£åœæ**: å¯è¨­å®šå›ºå®šåœæé»æ•¸
- **ç¬¬2å£åœæ**: å¯è¨­å®šå›ºå®šåœæé»æ•¸
- **ç¬¬3å£åœæ**: å¯è¨­å®šå›ºå®šåœæé»æ•¸
- **å›ºå®šåœææ¨¡å¼**: ç¦ç”¨ç§»å‹•åœææ©Ÿåˆ¶

#### âœ… æ¯å£ç¨ç«‹åœåˆ©è¨­å®š ğŸ¯ **NEW**
- **ç¬¬1å£åœåˆ©**: å¯è¨­å®šç¨ç«‹åœåˆ©é»æ•¸
- **ç¬¬2å£åœåˆ©**: å¯è¨­å®šç¨ç«‹åœåˆ©é»æ•¸
- **ç¬¬3å£åœåˆ©**: å¯è¨­å®šç¨ç«‹åœåˆ©é»æ•¸
- **é©—è­‰å¯¦é©—**: ç”¨æ–¼é©—è­‰MDDå„ªåŒ–å¯¦é©—çµæœ
- **ç­–ç•¥æ¸¬è©¦**: æ¸¬è©¦ä¸åŒåœåˆ©é»æ•¸çµ„åˆçš„æ•ˆæœ

#### âœ… é¢¨éšªç®¡ç†è¨­å®š
- **æ¯æ—¥è™§æé™åˆ¶**: è¨­å®šå–®æ—¥æœ€å¤§è™§æ
- **åˆ©æ½¤ç›®æ¨™**: è¨­å®šå–®æ—¥åˆ©æ½¤ç›®æ¨™
- **ç¯„åœéæ¿¾**: è¨­å®šæœ€å¤§ç¯„åœé»æ•¸éæ¿¾

#### âœ… å ±å‘ŠåŠŸèƒ½
- **è©³ç´°äº¤æ˜“è¨˜éŒ„**: æ¯ç­†äº¤æ˜“çš„å®Œæ•´è³‡è¨Š
- **å€‹åˆ¥å£æ•¸åˆ†æ**: æ¯å£çš„æç›Šçµ±è¨ˆ
- **ç­–ç•¥é…ç½®æ‘˜è¦**: å®Œæ•´åƒæ•¸è¨˜éŒ„
- **åœ–è¡¨åˆ†æ**: æç›Šæ›²ç·šåœ–

### ğŸ”§ åƒæ•¸ä¿®æ”¹æ–¹å¼

#### åœæè¨­å®š
```python
# åœ¨GUIä»‹é¢ä¸­è¨­å®š
ç¬¬1å£åœæé»æ•¸: 15    # å›ºå®šåœæ15é»
ç¬¬2å£åœæé»æ•¸: 25    # å›ºå®šåœæ25é»  
ç¬¬3å£åœæé»æ•¸: 30    # å›ºå®šåœæ30é»
å›ºå®šåœææ¨¡å¼: âœ“      # å•Ÿç”¨å›ºå®šåœæ
```

#### æ™‚é–“å€é–“è¨­å®š
```python
é–‹ç›¤ç¯„åœé–‹å§‹æ™‚é–“: 10:30
é–‹ç›¤ç¯„åœçµæŸæ™‚é–“: 10:31
```

#### é¢¨éšªç®¡ç†
```python
æ¯æ—¥è™§æé™åˆ¶: 500    # å–®æ—¥æœ€å¤§è™§æ500é»
åˆ©æ½¤ç›®æ¨™: 1000       # å–®æ—¥åˆ©æ½¤ç›®æ¨™1000é»
ç¯„åœéæ¿¾: 160        # æœ€å¤§ç¯„åœ160é»
```

#### æ¯å£ç¨ç«‹åœåˆ©è¨­å®š ğŸ¯ **NEW**
```python
# åœ¨GUIä»‹é¢ä¸­è¨­å®š
å•Ÿç”¨æ¯å£ç¨ç«‹åœåˆ©é»æ•¸: âœ“    # å•Ÿç”¨æ¯å£ç¨ç«‹åœåˆ©åŠŸèƒ½
ç¬¬1å£åœåˆ©é»æ•¸: 50          # ç¬¬1å£åœåˆ©50é»
ç¬¬2å£åœåˆ©é»æ•¸: 70          # ç¬¬2å£åœåˆ©70é»
ç¬¬3å£åœåˆ©é»æ•¸: 90          # ç¬¬3å£åœåˆ©90é»

# å»ºè­°æ­é…å›ºå®šåœææ¨¡å¼ä½¿ç”¨
å›ºå®šåœææ¨¡å¼: âœ“            # é¿å…ç§»å‹•åœæé‚è¼¯å¹²æ“¾
```

**åŠŸèƒ½èªªæ˜**:
- æ¯å£å¯è¨­å®šä¸åŒçš„åœåˆ©é»æ•¸ï¼Œæ›¿ä»£é è¨­çš„å€é–“é‚Šç·£åœåˆ©
- ç”¨æ–¼é©—è­‰MDDå„ªåŒ–å¯¦é©—çµæœå’Œæ¸¬è©¦ä¸åŒåœåˆ©ç­–ç•¥çµ„åˆ
- å»ºè­°æ­é…å›ºå®šåœææ¨¡å¼ä½¿ç”¨ï¼Œç¢ºä¿ç­–ç•¥é‚è¼¯ç°¡æ½”æ˜ç¢º

---

## ğŸ“Š MDDæœ€å°åŒ–å¯¦é©—ç³»çµ±

### ğŸ“ æ–‡ä»¶ä½ç½®
```
rev_strategy_analysis/experiment_analysis/enhanced_mdd_optimizer.py    # ğŸ†• å¢å¼·ç‰ˆå„ªåŒ–å™¨
rev_strategy_analysis/experiment_analysis/mdd_search_config.py         # ğŸ†• æœç´¢é…ç½®ç®¡ç†
rev_strategy_analysis/experiment_analysis/mdd_optimizer.py             # åŸç‰ˆå„ªåŒ–å™¨
rev_strategy_analysis/experiment_analysis/mdd_backtest_engine.py       # å›æ¸¬å¼•æ“
rev_strategy_analysis/experiment_analysis/test_mdd_optimizer.py        # ç³»çµ±æ¸¬è©¦
```

### ğŸš€ ä½¿ç”¨æ–¹å¼

#### ğŸ†• å¢å¼·ç‰ˆ MDD å„ªåŒ–å™¨ï¼ˆæ¨è–¦ï¼‰

##### 1. æŸ¥çœ‹æ‰€æœ‰å¯ç”¨é…ç½®
```bash
cd rev_strategy_analysis/experiment_analysis
python enhanced_mdd_optimizer.py --show-configs
```

##### 2. å¿«é€Ÿæ¸¬è©¦ï¼ˆæ¨è–¦æ–°æ‰‹ï¼‰
```bash
# èšç„¦æœç´¢ï¼Œ50å€‹æ¨£æœ¬
python enhanced_mdd_optimizer.py --config focused --sample-size 50

# æ™‚é–“é‡é»æœç´¢ï¼Œ30å€‹æ¨£æœ¬
python enhanced_mdd_optimizer.py --config time_focus --sample-size 30
```

##### 3. å®Œæ•´æœç´¢ï¼ˆé€²éšç”¨æˆ¶ï¼‰
```bash
# èšç„¦æœç´¢ï¼Œçµ±ä¸€åœåˆ©æ¨¡å¼
python enhanced_mdd_optimizer.py --config focused --sample-size 500

# æ¯å£ç¨ç«‹åœåˆ©æ¨¡å¼ï¼ˆçµ„åˆæ•¸é‡å¤§ï¼‰
python enhanced_mdd_optimizer.py --config focused --individual-tp --sample-size 200
```

##### 4. è©³ç´°æœç´¢ï¼ˆéœ€è¦æ›´é•·æ™‚é–“ï¼‰
```bash
# è©³ç´°æœç´¢ï¼Œçµ±ä¸€åœåˆ©
python enhanced_mdd_optimizer.py --config detailed --sample-size 1000

# æ™‚é–“é‡é»ï¼Œå®Œæ•´æœç´¢
python enhanced_mdd_optimizer.py --config time_focus
```

#### åŸç‰ˆ MDD å„ªåŒ–å™¨
```bash
# ç³»çµ±æ¸¬è©¦
python test_mdd_optimizer.py

# å¿«é€Ÿå¯¦é©— (20å€‹æ¨£æœ¬)
python mdd_optimizer.py --sample-size 20

# ä¸­ç­‰å¯¦é©— (50å€‹æ¨£æœ¬) + å¯è¦–åŒ–
python mdd_optimizer.py --sample-size 50 --create-viz

# å®Œæ•´å„ªåŒ– (4,176å€‹å¯¦é©—)
python mdd_optimizer.py --create-viz
```

### ğŸ¯ å¯¦é©—ç¯„åœ

#### ğŸ†• å¢å¼·ç‰ˆé…ç½®é¡å‹

| é…ç½®é¡å‹ | æè¿° | çµ±ä¸€åœåˆ©çµ„åˆæ•¸ | ç¨ç«‹åœåˆ©çµ„åˆæ•¸ | é©ç”¨å ´æ™¯ |
|---------|------|---------------|---------------|----------|
| **QUICK** | å¿«é€Ÿæœç´¢ | 1,620 | 14,580 | åˆæ­¥æ¢ç´¢ |
| **DETAILED** | è©³ç´°æœç´¢ | 180,224 | 11,534,336 | å…¨é¢åˆ†æ |
| **FOCUSED** | èšç„¦æœç´¢ | 2,500 | 62,500 | ç²¾ç¢ºå„ªåŒ– |
| **TIME_FOCUS** | æ™‚é–“é‡é» | 208 | 832 | æ™‚é–“å€é–“æ¸¬è©¦ |

#### ğŸ†• å¢å¼·ç‰ˆåƒæ•¸ç¯„åœ

##### FOCUSED é…ç½®
```python
ç¬¬1å£åœæ: [12, 14, 15, 16, 18] é»
ç¬¬2å£åœæ: [22, 24, 25, 26, 28] é»
ç¬¬3å£åœæ: [28, 29, 30, 31, 32] é»
çµ±ä¸€åœåˆ©: [50, 55, 60, 65, 70] é»
æ™‚é–“å€é–“: ['10:30-10:31', '11:30-11:31', '11:30-11:32', '12:30-12:31']
```

##### TIME_FOCUS é…ç½®
```python
ç¬¬1å£åœæ: [15, 20] é»
ç¬¬2å£åœæ: [25, 30] é»
ç¬¬3å£åœæ: [30, 35] é»
çµ±ä¸€åœåˆ©: [60, 80] é»
æ™‚é–“å€é–“: ['09:00-09:01', '09:00-09:02', '10:30-10:31', '10:30-10:32',
          '11:00-11:01', '11:30-11:31', '11:30-11:32', '12:00-12:01',
          '12:30-12:31', '12:30-12:32', '13:00-13:01', '13:30-13:31', '13:30-13:32']
```

#### åŸç‰ˆåƒæ•¸ç¯„åœ
```python
ç¬¬1å£åœæ: 10, 15, 20, 25, 30 é»
ç¬¬2å£åœæ: 20, 25, 30, 35, 40, 45, 50 é»
ç¬¬3å£åœæ: 30, 35, 40, 45, 50, 55, 60 é»
åœåˆ©ç›®æ¨™: 30, 40, 50, 60, 70, 80, 90, 100 é»
æ™‚é–“å€é–“: ['10:30-10:31', '11:30-11:31', '12:30-12:31']
```

### ğŸ”§ åƒæ•¸ä¿®æ”¹æ–¹å¼

#### ğŸ†• å¢å¼·ç‰ˆé…ç½®ä¿®æ”¹

##### å‰µå»ºè‡ªå®šç¾©é…ç½®
```python
# åœ¨ mdd_search_config.py ä¸­æ–°å¢é…ç½®
@staticmethod
def get_custom_search_config():
    """è‡ªå®šç¾©æœç´¢é…ç½®"""
    return {
        'stop_loss_ranges': {
            'lot1': [15, 20, 25, 30, 45, 50, 55, 60, 65, 70],  # ä½ çš„éœ€æ±‚
            'lot2': [15, 20, 25, 30, 45, 50, 55, 60, 65, 70],  # ä½ çš„éœ€æ±‚
            'lot3': [15, 20, 25, 30, 45, 50, 55, 60, 65, 70]   # ä½ çš„éœ€æ±‚
        },
        'take_profit_ranges': {
            'unified': [40, 50, 60, 70, 80]  # ä½ çš„éœ€æ±‚
        },
        'time_intervals': [
            ("10:00", "10:02"), ("10:30", "10:32"),  # ä½ çš„éœ€æ±‚
            ("11:00", "11:02"), ("11:30", "11:32"),  # ä½ çš„éœ€æ±‚
            ("12:00", "12:02"), ("12:30", "12:32"),  # ä½ çš„éœ€æ±‚
            ("13:00", "13:02")                       # ä½ çš„éœ€æ±‚
        ]
    }
```

##### ä½¿ç”¨è‡ªå®šç¾©é…ç½®
```python
# åœ¨ enhanced_mdd_optimizer.py ä¸­æ·»åŠ 
def get_config_by_name(self, config_name):
    if config_name == 'custom':
        return MDDSearchConfig.get_custom_search_config()
    # ... å…¶ä»–é…ç½®
```

#### åŸç‰ˆé…ç½®ä¿®æ”¹

##### ä¿®æ”¹åœæç¯„åœ
```python
# åœ¨ mdd_optimizer.py ä¸­ä¿®æ”¹
self.stop_loss_ranges = {
    'lot1': range(10, 31, 5),    # ç¬¬1å£: 10-30é»ï¼Œæ­¥é•·5
    'lot2': range(20, 51, 5),    # ç¬¬2å£: 20-50é»ï¼Œæ­¥é•·5
    'lot3': range(30, 61, 5)     # ç¬¬3å£: 30-60é»ï¼Œæ­¥é•·5
}
```

##### ä¿®æ”¹åœåˆ©ç¯„åœ
```python
# åœ¨ mdd_optimizer.py ä¸­ä¿®æ”¹
self.take_profit_range = range(30, 101, 10)  # 30-100é»ï¼Œæ­¥é•·10
```

##### ä¿®æ”¹æ™‚é–“å€é–“
```python
# åœ¨ mdd_optimizer.py ä¸­ä¿®æ”¹
self.time_intervals = [
    ('10:30', '10:31'),
    ('11:30', '11:31'),
    ('12:30', '12:31'),
    ('14:30', '14:31')  # æ–°å¢æ™‚é–“å€é–“
]
```

### ğŸ“ˆ è¼¸å‡ºçµæœ

#### ğŸ†• å¢å¼·ç‰ˆçµæœæ–‡ä»¶
```
results/enhanced_mdd_results_[é…ç½®]_[æ™‚é–“æˆ³].csv
```

#### ğŸ†• å¢å¼·ç‰ˆçµæœåˆ†æ
- **TOP 10 æœ€å° MDD é…ç½®**: æŒ‰ MDD çµ•å°å€¼æ’åº
- **TOP 10 é¢¨éšªèª¿æ•´æ”¶ç›Š**: æŒ‰ ç¸½æ”¶ç›Š/|MDD| æ’åº
- **å¯¦æ™‚é€²åº¦é¡¯ç¤º**: é¡¯ç¤ºå¯¦é©—é€²åº¦å’Œä¸­é–“çµæœ
- **é…ç½®è©³æƒ…**: åŒ…å«æ¯å£åœæã€åœåˆ©ã€æ™‚é–“å€é–“å®Œæ•´ä¿¡æ¯

#### ğŸ†• æœ€ä½³å¯¦è¸çµæœç¤ºä¾‹
```
ğŸ† MDDæœ€å° TOP 3:
1. MDD: -265.00 | ç¸½P&L: 2850.00 | L1SL:15 L2SL:25 L3SL:35 | TP:60 | 12:00-12:01
2. MDD: -393.00 | ç¸½P&L: 1832.00 | L1SL:12 L2SL:22 L3SL:31 | TP:65 | 12:30-12:31
3. MDD: -414.00 | ç¸½P&L: 1687.00 | L1SL:12 L2SL:22 L3SL:28 | TP:70 | 12:30-12:31

ğŸ’ é¢¨éšªèª¿æ•´æ”¶ç›Š TOP 3:
1. é¢¨éšªèª¿æ•´æ”¶ç›Š: 10.75 | MDD: -265.00 | ç¸½P&L: 2850.00
2. é¢¨éšªèª¿æ•´æ”¶ç›Š:  4.66 | MDD: -393.00 | ç¸½P&L: 1832.00
3. é¢¨éšªèª¿æ•´æ”¶ç›Š:  4.65 | MDD: -502.00 | ç¸½P&L: 2336.00
```

#### åŸç‰ˆçµæœæ–‡ä»¶
```
results/mdd_optimization_results_YYYYMMDD_HHMMSS.csv
results/mdd_visualization/mdd_vs_pnl_scatter.png
results/mdd_visualization/mdd_heatmap_lot1_lot2.png
```

---

## ğŸ”¬ åƒæ•¸å„ªåŒ–å¯¦é©—ç³»çµ±

### ğŸ“ æ–‡ä»¶ä½ç½®
```
rev_strategy_analysis/experiment_analysis/parameter_optimizer.py
rev_strategy_analysis/experiment_analysis/experiment_runner.py
```

### ğŸš€ ä½¿ç”¨æ–¹å¼

#### åŸºæœ¬å¯¦é©—
```bash
cd rev_strategy_analysis/experiment_analysis

# å¿«é€Ÿæ¸¬è©¦ (100å€‹å¯¦é©—)
python parameter_optimizer.py --sample-size 100

# å®Œæ•´å¯¦é©— (432å€‹å¯¦é©—)
python parameter_optimizer.py
```

#### é€²éšå¯¦é©—
```bash
# å¸¶å¯è¦–åŒ–çš„å¯¦é©—
python parameter_optimizer.py --create-charts

# æŒ‡å®šè©•ä¼°æŒ‡æ¨™
python parameter_optimizer.py --metric "LONG_PNL"
```

### ğŸ¯ å¯¦é©—ç¯„åœ

#### ç¬¬1å£åƒæ•¸
```python
è§¸ç™¼é»æ•¸: 10-30 é» (æ­¥é•·5)
å›æ’¤ç™¾åˆ†æ¯”: 10%-30% (æ­¥é•·5%)
```

#### ç¬¬2å£åƒæ•¸  
```python
è§¸ç™¼é»æ•¸: 30-40 é» (æ­¥é•·5)
å›æ’¤ç™¾åˆ†æ¯”: 10%-30% (æ­¥é•·5%)
```

#### ç¬¬3å£åƒæ•¸
```python
è§¸ç™¼é»æ•¸: 40-60 é» (æ­¥é•·5)  
å›æ’¤ç™¾åˆ†æ¯”: 10%-30% (æ­¥é•·5%)
```

### ğŸ”§ åƒæ•¸ä¿®æ”¹æ–¹å¼

#### ä¿®æ”¹å¯¦é©—ç¯„åœ
```python
# åœ¨ parameter_optimizer.py ä¸­ä¿®æ”¹
self.lot1_trigger_range = range(10, 31, 5)      # ç¬¬1å£è§¸ç™¼é»
self.lot1_pullback_range = range(10, 31, 5)     # ç¬¬1å£å›æ’¤%
self.lot2_trigger_range = range(30, 41, 5)      # ç¬¬2å£è§¸ç™¼é»
self.lot2_pullback_range = range(10, 31, 5)     # ç¬¬2å£å›æ’¤%
self.lot3_trigger_range = range(40, 61, 5)      # ç¬¬3å£è§¸ç™¼é»
self.lot3_pullback_range = range(10, 31, 5)     # ç¬¬3å£å›æ’¤%
```

#### ä¿®æ”¹è©•ä¼°æŒ‡æ¨™
```python
# å¯é¸æŒ‡æ¨™
"TOTAL_PNL"     # ç¸½æç›Š
"LONG_PNL"      # å¤šé ­æç›Š
"SHORT_PNL"     # ç©ºé ­æç›Š
"WIN_RATE"      # å‹ç‡
"MAX_DRAWDOWN"  # æœ€å¤§å›æ’¤
```

---

## â° æ™‚é–“å€é–“å¯¦é©—ç³»çµ±

### ğŸ“ æ–‡ä»¶ä½ç½®
```
rev_strategy_analysis/experiment_analysis/time_interval_optimizer.py
```

### ğŸš€ ä½¿ç”¨æ–¹å¼

#### åŸºæœ¬æ™‚é–“å¯¦é©—
```bash
cd rev_strategy_analysis/experiment_analysis

# æ¸¬è©¦ä¸åŒæ™‚é–“å€é–“
python time_interval_optimizer.py --intervals "10:30-10:31,11:30-11:31,12:30-12:31"

# æ¸¬è©¦å–®ä¸€æ™‚é–“å€é–“
python time_interval_optimizer.py --intervals "10:30-10:31"
```

### ğŸ¯ å¯¦é©—ç¯„åœ

#### é è¨­æ™‚é–“å€é–“
```python
æ™‚é–“å€é–“é¸é …:
- 10:30-10:31  # æ—©ç›¤é–‹ç›¤
- 11:30-11:31  # ä¸­åˆæ™‚æ®µ
- 12:30-12:31  # åˆç›¤æ™‚æ®µ
- 13:30-13:31  # ä¸‹åˆé–‹ç›¤
- 14:30-14:31  # å°¾ç›¤æ™‚æ®µ
```

### ğŸ”§ åƒæ•¸ä¿®æ”¹æ–¹å¼

#### æ–°å¢æ™‚é–“å€é–“
```python
# åœ¨ time_interval_optimizer.py ä¸­ä¿®æ”¹
self.time_intervals = [
    ('09:30', '09:31'),  # æ–°å¢æ—©ç›¤
    ('10:30', '10:31'),
    ('11:30', '11:31'),
    ('12:30', '12:31'),
    ('13:30', '13:31'),
    ('14:30', '14:31'),
    ('15:30', '15:31')   # æ–°å¢å°¾ç›¤
]
```

---

## ğŸ¯ åœæåœåˆ©é»å¯¦é©—ç³»çµ±

### ğŸ“ æ–‡ä»¶ä½ç½®
```
rev_strategy_analysis/experiment_analysis/stop_loss_optimizer.py
rev_strategy_analysis/experiment_analysis/take_profit_optimizer.py
```

### ğŸš€ ä½¿ç”¨æ–¹å¼

#### åœæé»å¯¦é©—
```bash
cd rev_strategy_analysis/experiment_analysis

# åœæé»å„ªåŒ– (15-100é»ï¼Œæ­¥é•·5)
python stop_loss_optimizer.py --range "15-100" --step 5

# å¿«é€Ÿåœææ¸¬è©¦
python stop_loss_optimizer.py --sample-size 20
```

#### åœåˆ©é»å¯¦é©—
```bash
# åœåˆ©é»å„ªåŒ– (30-100é»ï¼Œæ­¥é•·10)
python take_profit_optimizer.py --range "30-100" --step 10

# å¿«é€Ÿåœåˆ©æ¸¬è©¦  
python take_profit_optimizer.py --sample-size 15
```

### ğŸ¯ å¯¦é©—ç¯„åœ

#### åœæé»ç¯„åœ
```python
åœæé»æ•¸: 15-100 é» (æ­¥é•·5é»)
æ¸¬è©¦é…ç½®: å›ºå®š3å£é…ç½®
æ™‚é–“å€é–“: 10:30-10:31, 11:30-11:31, 12:30-12:31
```

#### åœåˆ©é»ç¯„åœ
```python
åœåˆ©é»æ•¸: 30-100 é» (æ­¥é•·10é»)
æ¸¬è©¦é…ç½®: å›ºå®š3å£é…ç½®
æ™‚é–“å€é–“: 10:30-10:31, 11:30-11:31, 12:30-12:31
```

### ğŸ”§ åƒæ•¸ä¿®æ”¹æ–¹å¼

#### ä¿®æ”¹åœæç¯„åœ
```python
# åœ¨ stop_loss_optimizer.py ä¸­ä¿®æ”¹
self.stop_loss_range = range(15, 101, 5)  # 15-100é»ï¼Œæ­¥é•·5
```

#### ä¿®æ”¹åœåˆ©ç¯„åœ
```python
# åœ¨ take_profit_optimizer.py ä¸­ä¿®æ”¹  
self.take_profit_range = range(30, 101, 10)  # 30-100é»ï¼Œæ­¥é•·10
```

#### ä¿®æ”¹æ¸¬è©¦é…ç½®
```python
# å›ºå®šé…ç½®è¨­å®š
self.fixed_config = {
    'lot1_stop_loss': 20,
    'lot2_stop_loss': 30, 
    'lot3_stop_loss': 40,
    'time_interval': '11:30-11:31'
}
```

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹èªªæ˜

### ğŸ“ ç›®éŒ„çµæ§‹
```
rev_strategy_analysis/
â”œâ”€â”€ rev_web_trading_gui.py              # ä¸»è¦GUIä»‹é¢
â”œâ”€â”€ rev_multi_Profit-Funded Risk_å¤šå£.py # æ ¸å¿ƒç­–ç•¥å¼•æ“
â”œâ”€â”€ experiment_analysis/                 # å¯¦é©—åˆ†æç³»çµ±
â”‚   â”œâ”€â”€ mdd_optimizer.py                # MDDæœ€å°åŒ–å„ªåŒ–
â”‚   â”œâ”€â”€ mdd_backtest_engine.py          # MDDå›æ¸¬å¼•æ“
â”‚   â”œâ”€â”€ parameter_optimizer.py          # åƒæ•¸å„ªåŒ–ç³»çµ±
â”‚   â”œâ”€â”€ stop_loss_optimizer.py          # åœæé»å„ªåŒ–
â”‚   â”œâ”€â”€ take_profit_optimizer.py        # åœåˆ©é»å„ªåŒ–
â”‚   â”œâ”€â”€ time_interval_optimizer.py      # æ™‚é–“å€é–“å„ªåŒ–
â”‚   â”œâ”€â”€ experiment_runner.py            # å¯¦é©—åŸ·è¡Œå™¨
â”‚   â”œâ”€â”€ test_mdd_optimizer.py           # ç³»çµ±æ¸¬è©¦
â”‚   â””â”€â”€ results/                        # å¯¦é©—çµæœç›®éŒ„
â”‚       â”œâ”€â”€ mdd_optimization_results_*.csv
â”‚       â”œâ”€â”€ parameter_optimization_results_*.csv
â”‚       â””â”€â”€ mdd_visualization/          # å¯è¦–åŒ–åœ–è¡¨
â””â”€â”€ reports/                            # å›æ¸¬å ±å‘Šç›®éŒ„
```

### ğŸ”„ ç³»çµ±æµç¨‹

#### 1. GUIå›æ¸¬æµç¨‹
```
ç”¨æˆ¶è¨­å®šåƒæ•¸ â†’ rev_web_trading_gui.py â†’ æ ¸å¿ƒç­–ç•¥å¼•æ“ â†’ ç”Ÿæˆå ±å‘Š
```

#### 2. å¯¦é©—å„ªåŒ–æµç¨‹
```
å¯¦é©—é…ç½® â†’ åƒæ•¸çµ„åˆç”Ÿæˆ â†’ æ‰¹é‡å›æ¸¬ â†’ çµæœåˆ†æ â†’ å¯è¦–åŒ–è¼¸å‡º
```

#### 3. æ•¸æ“šæµå‘
```
æ­·å²æ•¸æ“š â†’ ç­–ç•¥å¼•æ“ â†’ äº¤æ˜“ä¿¡è™Ÿ â†’ æç›Šè¨ˆç®— â†’ çµ±è¨ˆåˆ†æ â†’ å ±å‘Šç”Ÿæˆ
```

### ğŸ¯ æ ¸å¿ƒçµ„ä»¶

#### ç­–ç•¥å¼•æ“
- **æ–‡ä»¶**: `rev_multi_Profit-Funded Risk_å¤šå£.py`
- **åŠŸèƒ½**: åå‘ç­–ç•¥é‚è¼¯ã€ä¸‰å£äº¤æ˜“ç®¡ç†ã€é¢¨éšªæ§åˆ¶

#### GUIä»‹é¢
- **æ–‡ä»¶**: `rev_web_trading_gui.py`  
- **åŠŸèƒ½**: åƒæ•¸è¨­å®šã€å›æ¸¬åŸ·è¡Œã€å ±å‘Šå±•ç¤º

#### å¯¦é©—ç³»çµ±
- **ç›®éŒ„**: `experiment_analysis/`
- **åŠŸèƒ½**: æ‰¹é‡æ¸¬è©¦ã€åƒæ•¸å„ªåŒ–ã€çµæœåˆ†æ

---

## ğŸŠ ä½¿ç”¨å»ºè­°

### ğŸ”° æ–°æ‰‹å…¥é–€
1. **å…ˆä½¿ç”¨GUI**: ç†Ÿæ‚‰åŸºæœ¬å›æ¸¬åŠŸèƒ½
2. **å¿«é€Ÿå¯¦é©—**: ä½¿ç”¨å°æ¨£æœ¬æ¸¬è©¦å„ç¨®å¯¦é©—ç³»çµ±
3. **åƒæ•¸èª¿æ•´**: æ ¹æ“šçµæœèª¿æ•´åƒæ•¸ç¯„åœ
4. **å®Œæ•´å„ªåŒ–**: é‹è¡Œå®Œæ•´å¯¦é©—æ‰¾å‡ºæœ€ä½³é…ç½®

### ğŸ¯ é€²éšä½¿ç”¨
1. **çµ„åˆå¯¦é©—**: çµåˆå¤šå€‹å¯¦é©—ç³»çµ±
2. **è‡ªå®šç¾©ç¯„åœ**: ä¿®æ”¹åƒæ•¸ç¯„åœé‡å°æ€§å„ªåŒ–
3. **çµæœåˆ†æ**: æ·±å…¥åˆ†æå¯¦é©—æ•¸æ“š
4. **å¯¦æˆ°é©—è­‰**: å°‡å¯¦é©—çµæœæ‡‰ç”¨åˆ°GUIå›æ¸¬

### ğŸ“Š æ€§èƒ½å„ªåŒ–
1. **ä¸¦è¡Œè™•ç†**: å¤§å‹å¯¦é©—ä½¿ç”¨å¤šé€²ç¨‹
2. **æ¨£æœ¬æ¸¬è©¦**: å…ˆç”¨å°æ¨£æœ¬é©—è­‰é‚è¼¯
3. **çµæœç·©å­˜**: é¿å…é‡è¤‡è¨ˆç®—
4. **è³‡æºç›£æ§**: æ³¨æ„å…§å­˜å’ŒCPUä½¿ç”¨

---

## ğŸ†• ç”¨æˆ¶è‡ªå®šç¾© MDD é…ç½®ä½¿ç”¨æŒ‡å—

### ğŸ“‹ é…ç½®è©³æƒ…
æ ¹æ“šä½ çš„éœ€æ±‚ï¼Œå·²å‰µå»ºå°ˆé–€çš„ `user_custom` é…ç½®ï¼š

#### åƒæ•¸ç¯„åœ
```python
å„å£åœæç¯„åœ: [15, 20, 25, 30, 45, 50, 55, 60, 65, 70] é»
çµ±ä¸€åœåˆ©ç¯„åœ: [40, 50, 60, 70, 80] é»
æ™‚é–“å€é–“: 10:00-10:02, 10:30-10:32, 11:00-11:02,
         11:30-11:32, 12:00-12:02, 12:30-12:32, 13:00-13:02
```

#### çµ„åˆæ•¸é‡
- **çµ±ä¸€åœåˆ©æ¨¡å¼**: 35,000 å€‹çµ„åˆ
- **ç¨ç«‹åœåˆ©æ¨¡å¼**: 875,000 å€‹çµ„åˆ

### ğŸš€ åŸ·è¡Œæ­¥é©Ÿ

#### ç¬¬ä¸€æ­¥ï¼šç³»çµ±æ¸¬è©¦
```bash
cd rev_strategy_analysis/experiment_analysis

# æ¸¬è©¦é…ç½®æ˜¯å¦æ­£å¸¸
python test_user_custom_config.py
```

#### ç¬¬äºŒæ­¥ï¼šå°æ¨£æœ¬æ¸¬è©¦
```bash
# å¿«é€Ÿæ¸¬è©¦ 100 å€‹æ¨£æœ¬
python enhanced_mdd_optimizer.py --config user_custom --sample-size 100
```

#### ç¬¬ä¸‰æ­¥ï¼šä¸­ç­‰è¦æ¨¡å¯¦é©—
```bash
# æ¸¬è©¦ 500 å€‹æ¨£æœ¬
python enhanced_mdd_optimizer.py --config user_custom --sample-size 500
```

#### ç¬¬å››æ­¥ï¼šå¤§è¦æ¨¡å¯¦é©—
```bash
# æ¸¬è©¦ 2000 å€‹æ¨£æœ¬ï¼ˆçµ±ä¸€åœåˆ©ï¼‰
python enhanced_mdd_optimizer.py --config user_custom --sample-size 2000

# æ¸¬è©¦ 1000 å€‹æ¨£æœ¬ï¼ˆç¨ç«‹åœåˆ©ï¼‰
python enhanced_mdd_optimizer.py --config user_custom --individual-tp --sample-size 1000

# æ¸¬è©¦æ‰¾å‡ºå€‹å€é–“æœ€ä½³è§£
python enhanced_mdd_optimizer.py --config time_interval_analysis --max-workers 4
```

### ğŸ“Š çµæœåˆ†æ

#### é—œéµæŒ‡æ¨™
1. **MDD (æœ€å¤§å›æ’¤)**: ç›®æ¨™ < -500 é»
2. **é¢¨éšªèª¿æ•´æ”¶ç›Š**: ç›®æ¨™ > 3.0
3. **ç¸½P&L**: åƒè€ƒæŒ‡æ¨™

#### é æœŸçµæœæ ¼å¼
```
ğŸ† MDDæœ€å° TOP 10:
1. MDD: -XXX.XX | ç¸½P&L: XXXX.XX | L1SL:XX L2SL:XX L3SL:XX | TP:XX | æ™‚é–“å€é–“
...

ğŸ’ é¢¨éšªèª¿æ•´æ”¶ç›Š TOP 10:
1. é¢¨éšªèª¿æ•´æ”¶ç›Š: X.XX | MDD: -XXX.XX | ç¸½P&L: XXXX.XX | é…ç½®è©³æƒ…
...
```

### ğŸ¯ åƒæ•¸èª¿æ•´å»ºè­°

#### å¦‚éœ€ä¿®æ”¹åƒæ•¸ç¯„åœ
```python
# ç·¨è¼¯ mdd_search_config.py ä¸­çš„ get_user_custom_search_config()
'stop_loss_ranges': {
    'lot1': [ä½ çš„ç¬¬1å£åœæç¯„åœ],
    'lot2': [ä½ çš„ç¬¬2å£åœæç¯„åœ],
    'lot3': [ä½ çš„ç¬¬3å£åœæç¯„åœ]
},
'take_profit_ranges': {
    'unified': [ä½ çš„åœåˆ©ç¯„åœ]
},
'time_intervals': [
    ("é–‹å§‹æ™‚é–“", "çµæŸæ™‚é–“"),
    # æ›´å¤šæ™‚é–“å€é–“...
]
```

### âš¡ åŸ·è¡Œå»ºè­°

1. **å…ˆå°å¾Œå¤§**: å¾ 100 æ¨£æœ¬é–‹å§‹ï¼Œç¢ºèªç³»çµ±æ­£å¸¸
2. **ä¸¦è¡ŒåŸ·è¡Œ**: å¯åŒæ™‚é‹è¡Œå¤šå€‹ä¸åŒæ¨£æœ¬æ•¸çš„å¯¦é©—
3. **çµæœæ¯”è¼ƒ**: å°æ¯”ä¸åŒæ¨£æœ¬æ•¸çš„çµæœä¸€è‡´æ€§
4. **GUIé©—è­‰**: å°‡æœ€ä½³é…ç½®åœ¨GUIä¸­æ‰‹å‹•é©—è­‰

---

**ğŸ“– è©³ç´°æ–‡æª”**: å„ç³»çµ±éƒ½æœ‰å°æ‡‰çš„è©³ç´°ä½¿ç”¨æŒ‡å—ï¼Œè«‹åƒè€ƒç›¸æ‡‰çš„READMEå’ŒGUIDEæ–‡ä»¶ã€‚
