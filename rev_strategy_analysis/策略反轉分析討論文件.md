# å°æŒ‡æœŸè²¨ç­–ç•¥åè½‰åˆ†æè¨è«–æ–‡ä»¶

## ğŸ“‹ é …ç›®æ¦‚è¿°

**åˆ†æç›®æ¨™ï¼š** å°‡è™§æç­–ç•¥ (-1982.0 TOTAL P&L POINTS) åè½‰ç‚ºç²åˆ©ç­–ç•¥  
**æ ¸å¿ƒæ¦‚å¿µï¼š** è¨Šè™Ÿåè½‰ (Signal Reversal) - å°‡æ‰€æœ‰äº¤æ˜“æ±ºç­–é»é€²è¡Œé¡åƒè™•ç†  
**æ¸¬è©¦ç’°å¢ƒï¼š** rev_strategy_analysis è³‡æ–™å¤¾ï¼ˆå¾ strategy_analysis è¤‡è£½ï¼‰  

## ğŸ¯ åè½‰ç­–ç•¥ç†è«–åŸºç¤

### é‡åŒ–äº¤æ˜“ä¸­çš„è¨Šè™Ÿåè½‰
å¦‚æœä¸€å€‹ç­–ç•¥åœ¨ç‰¹å®šæ™‚æœŸç©©å®šåœ°è™§æï¼Œå…¶åå‘ç­–ç•¥ç¢ºå¯¦æœ‰æ½›åŠ›ç©©å®šåœ°ç²åˆ©ã€‚é€™å€‹æ¦‚å¿µåœ¨é‡åŒ–äº¤æ˜“ä¸­è¢«ç¨±ç‚ºã€Œè¨Šè™Ÿåè½‰ã€æˆ–ã€Œç­–ç•¥åè½‰ã€ã€‚

**é—œéµå‡è¨­ï¼š**
- åŸå§‹ç­–ç•¥çš„è™§æå…·æœ‰ä¸€å®šçš„ç©©å®šæ€§å’Œå¯é æ¸¬æ€§
- å¸‚å ´è¡Œç‚ºåœ¨åè½‰å¾Œä»ç„¶ä¿æŒç›¸ä¼¼çš„çµ±è¨ˆç‰¹æ€§
- åè½‰å¾Œçš„é¢¨éšªç®¡ç†é‚è¼¯ä»ç„¶æœ‰æ•ˆ

## ğŸ” ç¾æœ‰ç­–ç•¥æ¶æ§‹åˆ†æ

### æ ¸å¿ƒäº¤æ˜“é‚è¼¯ (ä¾†è‡ª _run_multi_lot_logic)

#### 1. é€²å ´æ¢ä»¶
```python
# åŸå§‹é‚è¼¯
if candle['close_price'] > range_high:
    position = 'LONG'  # çªç ´ä¸Šè»Œåšå¤š
elif candle['low_price'] < range_low:
    position = 'SHORT'  # è·Œç ´ä¸‹è»Œåšç©º
```

#### 2. åœææ©Ÿåˆ¶
- **åˆå§‹åœæï¼š** å€é–“é‚Šç·£æˆ–ä¸­é»
- **ç§»å‹•åœåˆ©ï¼š** è§¸ç™¼é»æ•¸ + å›æª”æ¯”ä¾‹
- **ä¿è­·æ€§åœæï¼š** å‰ä¸€å£ç²åˆ©ä¿è­·å¾ŒçºŒå£æ•¸

#### 3. é¢¨éšªç®¡ç†
- **æ¯æ—¥è™§æé™åˆ¶ï¼š** daily_loss_limit
- **æ¯æ—¥ç²åˆ©ç›®æ¨™ï¼š** profit_target
- **å€é–“å¤§å°æ¿¾ç¶²ï¼š** max_range_points

## ğŸ”„ åè½‰ç­–ç•¥è¨­è¨ˆæ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šå®Œå…¨é¡åƒåè½‰

#### é€²å ´é‚è¼¯åè½‰
```python
# åè½‰é‚è¼¯
if candle['close_price'] > range_high:
    position = 'SHORT'  # åŸæœ¬åšå¤šçš„é»æ”¹ç‚ºåšç©º
elif candle['low_price'] < range_low:
    position = 'LONG'   # åŸæœ¬åšç©ºçš„é»æ”¹ç‚ºåšå¤š
```

#### åœæåœåˆ©åè½‰
- **åŸå§‹åœæé» â†’ åè½‰åœåˆ©é»**
- **åŸå§‹åœåˆ©é» â†’ åè½‰åœæé»**
- **ç§»å‹•åœåˆ©é‚è¼¯ â†’ ç§»å‹•åœæé‚è¼¯**

#### é¢¨éšªç®¡ç†åè½‰
- **daily_loss_limit â†’ daily_profit_limit** (ç²åˆ©ä¸Šé™)
- **profit_target â†’ new_loss_limit** (æ–°çš„è™§æå®¹å¿åº¦)

### æ–¹æ¡ˆäºŒï¼šé¸æ“‡æ€§åè½‰

#### åƒ…åè½‰é€²å ´é‚è¼¯
ä¿æŒåŸæœ‰çš„åœæåœåˆ©æ©Ÿåˆ¶ï¼Œåªæ”¹è®Šé€²å ´æ–¹å‘ï¼š
- é™ä½å¯¦ä½œè¤‡é›œåº¦
- ä¿æŒé¢¨éšªç®¡ç†çš„åˆç†æ€§
- ä¾¿æ–¼é©—è­‰åè½‰æ•ˆæœ

## âš ï¸ å¯¦ä½œé¢¨éšªèˆ‡æŒ‘æˆ°

### 1. ä¿è­·æ€§åœæå•é¡Œ
**åŸå§‹é‚è¼¯ï¼š** ç¬¬ä¸€å£ç²åˆ©å¾Œï¼Œç”¨ç²åˆ©ä¿è­·å¾ŒçºŒå£æ•¸  
**åè½‰å•é¡Œï¼š** ç¬¬ä¸€å£è™§æå¾Œï¼Œç”¨è™§æã€Œä¿è­·ã€å¾ŒçºŒå£æ•¸æœƒæ“´å¤§é¢¨éšª

**å»ºè­°è§£æ±ºæ–¹æ¡ˆï¼š**
- åˆæœŸåœç”¨ä¿è­·æ€§åœææ©Ÿåˆ¶
- æˆ–é‡æ–°è¨­è¨ˆä¿è­·é‚è¼¯

### 2. é¢¨éšªç®¡ç†é‚è¼¯
**åŸå§‹è¨­è¨ˆï¼š** åŸºæ–¼ã€Œé™åˆ¶è™§æã€é–å®šç²åˆ©ã€  
**åè½‰æŒ‘æˆ°ï¼š** ç›´æ¥åè½‰å¯èƒ½ç”¢ç”Ÿä¸åˆç†çš„é¢¨éšªæ§åˆ¶

### 3. ç§»å‹•åœåˆ©è½‰ç§»å‹•åœæ
**è¤‡é›œåº¦ï¼š** éœ€è¦é‡æ–°è¨­è¨ˆè§¸ç™¼å’Œè¨ˆç®—é‚è¼¯  
**é¢¨éšªï¼š** å¯èƒ½ç”¢ç”Ÿéæ–¼æ¿€é€²çš„åœæè¡Œç‚º

## ğŸ› ï¸ å¯¦ä½œç­–ç•¥å»ºè­°

### éšæ®µä¸€ï¼šæ ¸å¿ƒåè½‰é©—è­‰
1. **å‰µå»ºåè½‰é–‹é—œï¼š** åœ¨ StrategyConfig ä¸­åŠ å…¥ `reverse_strategy: bool`
2. **å¯¦ä½œé€²å ´åè½‰ï¼š** ä¿®æ”¹ _run_multi_lot_logic ä¸­çš„é€²å ´é‚è¼¯
3. **ç°¡åŒ–åœæåœåˆ©ï¼š** æš«æ™‚ä½¿ç”¨å›ºå®šåœæï¼Œåœç”¨è¤‡é›œæ©Ÿåˆ¶
4. **åœç”¨é¢¨éšªæ¿¾ç¶²ï¼š** å°ˆæ³¨é©—è­‰æ ¸å¿ƒåè½‰é‚è¼¯

### éšæ®µäºŒï¼šé€æ­¥å®Œå–„
1. **åŠ å…¥åœæåœåˆ©åè½‰**
2. **é‡æ–°è¨­è¨ˆä¿è­·æ€§åœæ**
3. **èª¿æ•´é¢¨éšªç®¡ç†æ¿¾ç¶²**
4. **æ€§èƒ½å„ªåŒ–å’Œæ¸¬è©¦**

## ğŸ“Š å¯è¡Œæ€§è©•ä¼°

### æŠ€è¡“å¯è¡Œæ€§ï¼šâ­â­â­â­â­
- ç¾æœ‰æ¶æ§‹æ”¯æ´è‰¯å¥½
- ä¿®æ”¹é»æ˜ç¢ºä¸”é›†ä¸­
- å‘å¾Œç›¸å®¹æ€§ä½³

### é‚è¼¯åˆç†æ€§ï¼šâ­â­â­â­
- åè½‰æ¦‚å¿µåœ¨é‡åŒ–äº¤æ˜“ä¸­æœ‰ç†è«–åŸºç¤
- éœ€è¦è¬¹æ…è™•ç†é¢¨éšªç®¡ç†é‚è¼¯

### å¯¦ä½œè¤‡é›œåº¦ï¼šâ­â­â­
- æ ¸å¿ƒåè½‰ç›¸å°ç°¡å–®
- å®Œæ•´åè½‰éœ€è¦ä»”ç´°è¨­è¨ˆ

### é¢¨éšªæ§åˆ¶ï¼šâ­â­â­
- éœ€è¦é‡æ–°è©•ä¼°é¢¨éšªç®¡ç†æ©Ÿåˆ¶
- å»ºè­°åˆ†éšæ®µå¯¦ä½œå’Œæ¸¬è©¦

## ğŸ¯ é æœŸæ•ˆæœ

### ç†è«–é æœŸ
å¦‚æœåŸå§‹ç­–ç•¥è™§æ -1982.0 é»ï¼Œå®Œç¾åè½‰æ‡‰è©²èƒ½ç²åˆ© +1982.0 é»

### å¯¦éš›è€ƒé‡
- äº¤æ˜“æˆæœ¬å’Œæ»‘åƒ¹å½±éŸ¿
- é¢¨éšªç®¡ç†æ©Ÿåˆ¶çš„å·®ç•°
- å¸‚å ´ç’°å¢ƒè®ŠåŒ–çš„å½±éŸ¿

## ğŸ”§ æŠ€è¡“å¯¦ä½œç´°ç¯€

### é…ç½®çµæ§‹ä¿®æ”¹
```python
@dataclass
class StrategyConfig:
    # æ–°å¢åè½‰é–‹é—œ
    reverse_strategy: bool = False

    # ç¾æœ‰é…ç½®ä¿æŒä¸è®Š
    trade_size_in_lots: int = 3
    stop_loss_type: StopLossType = StopLossType.RANGE_BOUNDARY
    # ...
```

### æ ¸å¿ƒé‚è¼¯ä¿®æ”¹é»
1. **_run_multi_lot_logic å‡½å¼** (ç¬¬204è¡Œ)
   - é€²å ´é‚è¼¯åè½‰
   - åœæåœåˆ©è¨ˆç®—èª¿æ•´

2. **get_initial_stop_loss å‡½å¼** (ç¬¬177è¡Œ)
   - åœæé»è¨ˆç®—åè½‰

3. **é¢¨éšªç®¡ç†å‡½å¼**
   - check_daily_risk_limit é‚è¼¯èª¿æ•´

## ğŸ“Š è©³ç´°å¯è¡Œæ€§åˆ†æ

### æŠ€è¡“æ¶æ§‹è©•ä¼°

#### å„ªå‹¢ âœ…
- **æ¨¡çµ„åŒ–è¨­è¨ˆï¼š** StrategyConfig é›†ä¸­ç®¡ç†ï¼Œæ˜“æ–¼æ“´å±•
- **æ¸…æ™°çš„å‡½å¼åˆ†é›¢ï¼š** é€²å ´ã€å‡ºå ´ã€é¢¨éšªç®¡ç†é‚è¼¯ç¨ç«‹
- **å®Œæ•´çš„æ—¥èªŒç³»çµ±ï¼š** ä¾¿æ–¼èª¿è©¦å’Œé©—è­‰
- **å¤šå£ç®¡ç†æ©Ÿåˆ¶ï¼š** æ”¯æ´è¤‡é›œçš„å¤šå£åè½‰é‚è¼¯

#### æŒ‘æˆ° âš ï¸
- **ä¿è­·æ€§åœæè¤‡é›œåº¦ï¼š** protective_stop_multiplier é‚è¼¯éœ€é‡æ–°è¨­è¨ˆ
- **ç§»å‹•åœåˆ©æ©Ÿåˆ¶ï¼š** trailing_activation å’Œ trailing_pullback åè½‰é‚è¼¯è¤‡é›œ
- **é¢¨éšªæ¿¾ç¶²æ•´åˆï¼š** ä¸‰å€‹æ¿¾ç¶² (RangeFilter, RiskConfig, StopLossConfig) éœ€è¦å”èª¿

### å¯¦ä½œè¤‡é›œåº¦è©•ä¼°

#### éšæ®µä¸€ï¼šåŸºç¤åè½‰ (ç°¡å–®) ğŸŸ¢
- **å·¥ä½œé‡ï¼š** 2-3å°æ™‚
- **ä¿®æ”¹ç¯„åœï¼š** åƒ…é€²å ´é‚è¼¯
- **é¢¨éšªï¼š** ä½

#### éšæ®µäºŒï¼šå®Œæ•´åè½‰ (ä¸­ç­‰) ğŸŸ¡
- **å·¥ä½œé‡ï¼š** 1-2å¤©
- **ä¿®æ”¹ç¯„åœï¼š** åœæåœåˆ©ã€é¢¨éšªç®¡ç†
- **é¢¨éšªï¼š** ä¸­ç­‰

#### éšæ®µä¸‰ï¼šå„ªåŒ–èª¿æ•´ (è¤‡é›œ) ğŸŸ 
- **å·¥ä½œé‡ï¼š** 3-5å¤©
- **ä¿®æ”¹ç¯„åœï¼š** æ€§èƒ½å„ªåŒ–ã€é‚Šç•Œæƒ…æ³è™•ç†
- **é¢¨éšªï¼š** ä¸­é«˜

## ğŸ¯ é æœŸæˆæœåˆ†æ

### ç†è«–æœ€ä½³æƒ…æ³
- **åŸå§‹è™§æï¼š** -1982.0 é»
- **ç†è«–ç²åˆ©ï¼š** +1982.0 é»
- **æ”¹å–„å¹…åº¦ï¼š** 3964.0 é»å·®ç•°

### å¯¦éš›é æœŸç¯„åœ
è€ƒæ…®å¯¦ä½œå·®ç•°å’Œå¸‚å ´å› ç´ ï¼š
- **ä¿å®ˆä¼°è¨ˆï¼š** +1500 ~ +1800 é»
- **æ¨‚è§€ä¼°è¨ˆï¼š** +1800 ~ +1950 é»
- **æˆåŠŸæ©Ÿç‡ï¼š** 70-80%

## ğŸ“‹ è©³ç´°è¡Œå‹•è¨ˆåŠƒ

### ç¬¬ä¸€éšæ®µï¼šç’°å¢ƒæº–å‚™ (30åˆ†é˜)
1. âœ… è¤‡è£½ strategy_analysis â†’ rev_strategy_analysis
2. âœ… å‰µå»ºè¨è«–æ–‡ä»¶
3. ğŸ”„ è¨­å®šæ¸¬è©¦ç’°å¢ƒ

### ç¬¬äºŒéšæ®µï¼šåŸºç¤å¯¦ä½œ (2-3å°æ™‚)
1. **ä¿®æ”¹ StrategyConfig**
   - åŠ å…¥ reverse_strategy åƒæ•¸
   - æ›´æ–°é è¨­é…ç½®

2. **å¯¦ä½œé€²å ´åè½‰**
   - ä¿®æ”¹ _run_multi_lot_logic ä¸­çš„é€²å ´é‚è¼¯
   - åŠ å…¥æ¢ä»¶åˆ¤æ–·

3. **ç°¡åŒ–æ¸¬è©¦**
   - æš«æ™‚åœç”¨è¤‡é›œçš„åœæåœåˆ©æ©Ÿåˆ¶
   - ä½¿ç”¨å›ºå®šåœæé€²è¡Œåˆæ­¥é©—è­‰

### ç¬¬ä¸‰éšæ®µï¼šé©—è­‰æ¸¬è©¦ (1å°æ™‚)
1. **åŸ·è¡Œå›æ¸¬**
   - ä½¿ç”¨ç›¸åŒæ™‚é–“å€é–“
   - æ¯”è¼ƒåŸå§‹ vs åè½‰çµæœ

2. **çµæœåˆ†æ**
   - P&L å°æ¯”
   - äº¤æ˜“æ¬¡æ•¸å’Œå‹ç‡è®ŠåŒ–
   - é¢¨éšªæŒ‡æ¨™è©•ä¼°

### ç¬¬å››éšæ®µï¼šå®Œæ•´å¯¦ä½œ (1-2å¤©)
1. **åœæåœåˆ©åè½‰**
2. **é¢¨éšªç®¡ç†èª¿æ•´**
3. **ä¿è­·æ€§åœæé‡æ–°è¨­è¨ˆ**
4. **å…¨é¢æ¸¬è©¦å’Œå„ªåŒ–**

## ğŸš¨ é¢¨éšªæ§åˆ¶æªæ–½

### é–‹ç™¼é¢¨éšª
- **å‚™ä»½åŸå§‹ä»£ç¢¼ï¼š** å·²å®Œæˆ (strategy_analysis ä¿æŒä¸è®Š)
- **ç‰ˆæœ¬æ§åˆ¶ï¼š** å»ºè­°ä½¿ç”¨ git ç®¡ç†è®Šæ›´
- **æ¸¬è©¦é©…å‹•ï¼š** æ¯å€‹éšæ®µéƒ½é€²è¡Œå›æ¸¬é©—è­‰

### äº¤æ˜“é¢¨éšª
- **å°è¦æ¨¡æ¸¬è©¦ï¼š** å…ˆç”¨çŸ­æœŸæ•¸æ“šé©—è­‰
- **åƒæ•¸èª¿æ•´ï¼š** æ ¹æ“šçµæœèª¿æ•´åè½‰é‚è¼¯
- **é¢¨éšªé™åˆ¶ï¼š** ä¿æŒåˆç†çš„é¢¨éšªç®¡ç†æ©Ÿåˆ¶

---

**æœ€çµ‚çµè«–ï¼š**
1. **æŠ€è¡“å¯è¡Œæ€§ï¼š95%** - æ¶æ§‹æ”¯æ´è‰¯å¥½ï¼Œå¯¦ä½œè·¯å¾‘æ¸…æ™°
2. **ç†è«–åˆç†æ€§ï¼š85%** - åè½‰æ¦‚å¿µæœ‰é‡åŒ–äº¤æ˜“åŸºç¤
3. **æˆåŠŸé æœŸï¼š75%** - è€ƒæ…®å¯¦ä½œå’Œå¸‚å ´å› ç´ 
4. **å»ºè­°åŸ·è¡Œï¼šâœ…** - åˆ†éšæ®µå¯¦ä½œï¼Œé¢¨éšªå¯æ§
