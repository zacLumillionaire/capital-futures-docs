# ğŸ“ æ¨¡çµ„åŒ–çµæ§‹è¦åŠƒèˆ‡ç¶­è­·æŒ‡å—

## ğŸ¯ **ç•¶å‰æ¨¡çµ„åŒ–ç‹€æ…‹**

### âœ… **å·²å¯¦ç¾çš„æ¨¡çµ„åŒ–çµæ§‹**
```
Python File/
â”œâ”€â”€ OrderTester.py          # ä¸»ç¨‹å¼å…¥å£
â”œâ”€â”€ Config.py               # å…¨åŸŸé…ç½®
â”œâ”€â”€ order/                  # ä¸‹å–®æ¨¡çµ„ ğŸ“
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ future_order.py     # æœŸè²¨ä¸‹å–® (åƒè€ƒå®˜æ–¹ FutureOrder.py)
â”‚   â”œâ”€â”€ stock_order.py      # è‚¡ç¥¨ä¸‹å–® (åƒè€ƒå®˜æ–¹ StockOrder.py)
â”‚   â”œâ”€â”€ future_config.py    # æœŸè²¨å•†å“é…ç½®
â”‚   â””â”€â”€ order_config.py     # ä¸‹å–®åƒæ•¸é…ç½®
â”œâ”€â”€ reply/                  # å›å ±æ¨¡çµ„ ğŸ“
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ order_reply.py      # å›å ±è™•ç† (åƒè€ƒå®˜æ–¹ Reply.py)
â”œâ”€â”€ Log/                    # æ—¥èªŒè³‡æ–™å¤¾ ğŸ“
â”‚   â”œâ”€â”€ Center.log          # ç™»å…¥æ—¥èªŒ
â”‚   â”œâ”€â”€ Order.log           # ä¸‹å–®æ—¥èªŒ
â”‚   â””â”€â”€ Reply.log           # å›å ±æ—¥èªŒ
â””â”€â”€ [SKCOM DLLæª”æ¡ˆ]         # APIç›¸é—œæª”æ¡ˆ
```

## ğŸ“‹ **èˆ‡ç¾¤ç›Šå®˜æ–¹æ¡ˆä¾‹çš„å°æ‡‰**

### å®˜æ–¹çµæ§‹ â†’ æˆ‘çš„å¯¦ç¾
```
order_service/
â”œâ”€â”€ Order.py           â†’ OrderTester.py (ä¸»ç¨‹å¼)
â”œâ”€â”€ FutureOrder.py     â†’ order/future_order.py
â”œâ”€â”€ StockOrder.py      â†’ order/stock_order.py
â”œâ”€â”€ Global.py          â†’ Config.py
â””â”€â”€ Config.py          â†’ order/future_config.py

Quote_Service/
â””â”€â”€ Quote.py           â†’ (æœªä¾†å¯å¯¦ç¾ quote/ æ¨¡çµ„)

Reply_Service/
â””â”€â”€ Reply.py           â†’ reply/order_reply.py
```

## ğŸš€ **å»ºè­°çš„é€²ä¸€æ­¥æ¨¡çµ„åŒ–**

### 1. **å ±åƒ¹æ¨¡çµ„ (quote/)**
```
quote/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ future_quote.py     # æœŸè²¨å ±åƒ¹
â”œâ”€â”€ stock_quote.py      # è‚¡ç¥¨å ±åƒ¹
â””â”€â”€ quote_config.py     # å ±åƒ¹é…ç½®
```

### 2. **ç­–ç•¥æ¨¡çµ„ (strategy/)**
```
strategy/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ base_strategy.py    # åŸºç¤ç­–ç•¥é¡åˆ¥
â”œâ”€â”€ future_strategy.py  # æœŸè²¨ç­–ç•¥
â””â”€â”€ strategy_config.py  # ç­–ç•¥é…ç½®
```

### 3. **å·¥å…·æ¨¡çµ„ (utils/)**
```
utils/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ logger.py          # æ—¥èªŒå·¥å…·
â”œâ”€â”€ validator.py       # åƒæ•¸é©—è­‰
â””â”€â”€ formatter.py       # æ ¼å¼åŒ–å·¥å…·
```

### 4. **è³‡æ–™æ¨¡çµ„ (data/)**
```
data/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ market_data.py     # å¸‚å ´è³‡æ–™
â”œâ”€â”€ account_data.py    # å¸³æˆ¶è³‡æ–™
â””â”€â”€ data_config.py     # è³‡æ–™é…ç½®
```

## ğŸ”§ **æ¨¡çµ„è¨­è¨ˆåŸå‰‡**

### 1. **å–®ä¸€è·è²¬åŸå‰‡**
```python
# âœ… å¥½çš„è¨­è¨ˆ
order/future_order.py    # åªè² è²¬æœŸè²¨ä¸‹å–®
reply/order_reply.py     # åªè² è²¬å›å ±è™•ç†

# âŒ é¿å…çš„è¨­è¨ˆ
all_in_one.py           # åŒ…å«æ‰€æœ‰åŠŸèƒ½
```

### 2. **ä¾è³´æ³¨å…¥**
```python
# âœ… å¥½çš„è¨­è¨ˆ
class FutureOrderFrame:
    def __init__(self, master, skcom_objects):
        self.m_pSKOrder = skcom_objects.get('SKOrder')
        
# âŒ é¿å…çš„è¨­è¨ˆ
class FutureOrderFrame:
    def __init__(self):
        self.m_pSKOrder = comtypes.client.CreateObject(...)
```

### 3. **é…ç½®åˆ†é›¢**
```python
# âœ… å¥½çš„è¨­è¨ˆ
from order.future_config import FUTURE_PRODUCTS

# âŒ é¿å…çš„è¨­è¨ˆ
FUTURE_PRODUCTS = {...}  # ç›´æ¥å¯«åœ¨ç¨‹å¼ç¢¼ä¸­
```

## ğŸ“Š **ç¶­è­·æ€§å„ªå‹¢**

### 1. **æ˜“æ–¼é™¤éŒ¯**
```
å•é¡Œå®šä½ï¼š
æœŸè²¨ä¸‹å–®å•é¡Œ â†’ æª¢æŸ¥ order/future_order.py
å›å ±å•é¡Œ     â†’ æª¢æŸ¥ reply/order_reply.py
é…ç½®å•é¡Œ     â†’ æª¢æŸ¥ order/future_config.py
```

### 2. **æ˜“æ–¼æ“´å±•**
```python
# æ–°å¢é¸æ“‡æ¬Šä¸‹å–®
order/option_order.py

# æ–°å¢æµ·å¤–æœŸè²¨
order/overseas_future.py

# æ–°å¢ç­–ç•¥äº¤æ˜“
strategy/auto_trading.py
```

### 3. **æ˜“æ–¼æ¸¬è©¦**
```python
# å–®å…ƒæ¸¬è©¦
tests/
â”œâ”€â”€ test_future_order.py
â”œâ”€â”€ test_order_reply.py
â””â”€â”€ test_config.py
```

## ğŸ¯ **ç•¶å‰å¯¦ç¾çš„æŠ€è¡“ç‰¹è‰²**

### 1. **åƒè€ƒå®˜æ–¹æœ€ä½³å¯¦è¸**
- **äº‹ä»¶è™•ç†**: åƒè€ƒå®˜æ–¹ Reply.py çš„äº‹ä»¶è¨»å†Šæ–¹å¼
- **ä¸‹å–®æµç¨‹**: åƒè€ƒå®˜æ–¹ FutureOrder.py çš„APIèª¿ç”¨é †åº
- **éŒ¯èª¤è™•ç†**: åƒè€ƒå®˜æ–¹çš„éŒ¯èª¤ä»£ç¢¼è™•ç†æ–¹å¼

### 2. **æ”¹é€²çš„è¨­è¨ˆ**
- **è‡ªå‹•å¸³è™Ÿæ ¼å¼åŒ–**: F020000å‰ç¶´è‡ªå‹•è™•ç†
- **Tokenåƒæ•¸ç®¡ç†**: è‡ªå‹•ä½¿ç”¨ç™»å…¥ID
- **æ†‘è­‰é©—è­‰**: ReadCertByIDè‡ªå‹•èª¿ç”¨
- **å•†å“ä»£ç¢¼é©—è­‰**: ä½¿ç”¨æ­£ç¢ºçš„APIæ ¼å¼

### 3. **å®Œæ•´çš„éŒ¯èª¤è™•ç†**
```python
# å®Œæ•´çš„éŒ¯èª¤è™•ç†éˆ
1001 â†’ åˆå§‹åŒ–å¤±æ•— â†’ ReadCertByIDè§£æ±º
1002 â†’ å¸³è™Ÿæ ¼å¼éŒ¯èª¤ â†’ F020000å‰ç¶´è§£æ±º
1038 â†’ æ†‘è­‰é©—è­‰å¤±æ•— â†’ ReadCertByIDè§£æ±º
101  â†’ Tokenåƒæ•¸ä¸è¶³ â†’ ç™»å…¥IDè§£æ±º
400  â†’ å•†å“ä»£ç¢¼éŒ¯èª¤ â†’ MXFR1æ ¼å¼è§£æ±º
```

## ğŸ“‹ **ç¶­è­·å»ºè­°**

### 1. **å®šæœŸæ›´æ–°**
- **å•†å“ä»£ç¢¼**: å®šæœŸæ›´æ–° future_config.py ä¸­çš„å•†å“åˆ—è¡¨
- **APIç‰ˆæœ¬**: è·Ÿéš¨ç¾¤ç›ŠAPIæ›´æ–°
- **éŒ¯èª¤è™•ç†**: æ ¹æ“šæ–°çš„éŒ¯èª¤ä»£ç¢¼æ›´æ–°è™•ç†é‚è¼¯

### 2. **æ–‡ä»¶ç¶­è­·**
- **APIæ–‡ä»¶**: ä¿æŒèˆ‡å®˜æ–¹æ–‡ä»¶åŒæ­¥
- **é…ç½®èªªæ˜**: è©³ç´°èªªæ˜å„é …é…ç½®çš„ç”¨é€”
- **éŒ¯èª¤ä»£ç¢¼**: ç¶­è­·éŒ¯èª¤ä»£ç¢¼å°ç…§è¡¨

### 3. **ç‰ˆæœ¬æ§åˆ¶**
```
git/
â”œâ”€â”€ main                # ç©©å®šç‰ˆæœ¬
â”œâ”€â”€ develop            # é–‹ç™¼ç‰ˆæœ¬
â””â”€â”€ feature/xxx        # åŠŸèƒ½åˆ†æ”¯
```

## ğŸ‰ **æŠ€è¡“æˆå°±ç¸½çµ**

### å®Œæ•´å¯¦ç¾çš„åŠŸèƒ½æ¨¡çµ„
- âœ… **ç™»å…¥æ¨¡çµ„**: è‡ªå‹•ç™»å…¥å’Œæ†‘è­‰è™•ç†
- âœ… **ä¸‹å–®æ¨¡çµ„**: æœŸè²¨/è‚¡ç¥¨ä¸‹å–® (æ¨¡çµ„åŒ–è¨­è¨ˆ)
- âœ… **å›å ±æ¨¡çµ„**: å§”è¨—/æˆäº¤å›å ±è™•ç†
- âœ… **é…ç½®æ¨¡çµ„**: å•†å“/åƒæ•¸é…ç½®ç®¡ç†
- âœ… **æ—¥èªŒæ¨¡çµ„**: å®Œæ•´çš„æ—¥èªŒè¨˜éŒ„

### åƒè€ƒå®˜æ–¹æ¡ˆä¾‹çš„è¨­è¨ˆæ¨¡å¼
- âœ… **äº‹ä»¶é©…å‹•**: åƒè€ƒå®˜æ–¹çš„äº‹ä»¶è™•ç†æ–¹å¼
- âœ… **APIå°è£**: åƒè€ƒå®˜æ–¹çš„APIèª¿ç”¨æ¨¡å¼
- âœ… **éŒ¯èª¤è™•ç†**: åƒè€ƒå®˜æ–¹çš„éŒ¯èª¤ä»£ç¢¼è™•ç†
- âœ… **é…ç½®ç®¡ç†**: åƒè€ƒå®˜æ–¹çš„é…ç½®æª”æ¡ˆçµæ§‹

**ğŸ¯ çµè«–ï¼šç•¶å‰çš„æ¨¡çµ„åŒ–è¨­è¨ˆå®Œå…¨åƒè€ƒç¾¤ç›Šå®˜æ–¹æ¡ˆä¾‹ï¼Œå…·æœ‰è‰¯å¥½çš„ç¶­è­·æ€§å’Œæ“´å±•æ€§ï¼**

---
*æ¨¡çµ„åŒ–çµæ§‹è¦åŠƒèˆ‡ç¶­è­·æŒ‡å—*
*æ™‚é–“: 2025-06-29*
*ç‹€æ…‹: å·²å¯¦ç¾å®Œæ•´çš„æ¨¡çµ„åŒ–è¨­è¨ˆ*
