# 🎯 群益證券API下單測試指南

## 🎉 **恭喜登入成功！**

既然登入已經成功，現在我們可以進行下單測試了！我已經根據官方文件和案例為你建立了完整的下單測試環境。

## 📁 **已建立的檔案結構**

```
Python File/
├── OrderTester.py          # 主程式 - 整合登入、下單、回報
├── order/                  # 下單模組
│   ├── __init__.py
│   ├── order_config.py     # 下單設定檔
│   └── stock_order.py      # 股票下單模組
└── reply/                  # 回報模組
    ├── __init__.py
    └── order_reply.py      # 下單回報處理
```

## 🚀 **如何使用下單測試程式**

### 步驟1: 啟動下單測試程式
```bash
cd "Python File"
python OrderTester.py
```

### 步驟2: 登入
1. 在「登入」頁籤中填入身分證字號和密碼
2. 點擊「登入」按鈕
3. 確認登入成功（狀態顯示綠色「登入成功」）

### 步驟3: 設定下單參數
1. 切換到「股票下單」頁籤
2. 填入下單資訊：
   - **帳號**: 你的證券帳號
   - **股票代碼**: 例如 2330 (台積電)
   - **委託價**: 例如 500.0
   - **委託量**: 例如 1 (最小單位)
   - **其他參數**: 選擇適當的買賣別、委託條件等

### 步驟4: 查詢帳號
1. 點擊「查詢帳號」按鈕
2. 確認帳號資訊正確

### 步驟5: 監控回報
1. 切換到「下單回報」頁籤
2. 點擊「開始監控」
3. 觀察回報訊息

### 步驟6: 測試下單 (謹慎!)
1. 回到「股票下單」頁籤
2. 確認所有參數正確
3. 點擊「測試下單」
4. **仔細確認下單資訊**
5. 確認後執行下單

## ⚠️ **重要安全提醒**

### 1. **這是真實的下單環境**
- ✅ 使用真實的群益證券API
- ⚠️ 下單會產生真實的交易
- 💰 請確保資金充足
- 📋 請確認下單參數正確

### 2. **建議的測試流程**
1. **先使用小額測試** - 最小單位 (1股)
2. **選擇流動性好的股票** - 如台積電 (2330)
3. **使用限價單** - 避免市價單的風險
4. **確認帳號餘額** - 確保有足夠資金
5. **監控回報** - 隨時觀察下單狀態

### 3. **測試前檢查清單**
- [ ] 登入成功
- [ ] 帳號查詢成功
- [ ] 回報監控啟動
- [ ] 下單參數確認
- [ ] 資金餘額充足
- [ ] 了解交易風險

## 🔧 **功能說明**

### 1. **登入功能**
- ✅ 基於成功的登入機制
- ✅ 正確的OnReplyMessage事件處理
- ✅ 完整的錯誤處理

### 2. **股票下單功能**
- ✅ 完整的下單參數設定
- ✅ 買賣別、委託條件、限市價選擇
- ✅ 當沖與否設定
- ✅ 帳號查詢功能

### 3. **回報監控功能**
- ✅ 委託回報監控
- ✅ 成交回報監控
- ✅ 帳號資訊回報
- ✅ 即時庫存回報

## 📊 **基於官方文件的實現**

### 1. **參考官方文件**
- 📋 群益API下單準備文件
- 📋 官方order_service案例
- 📋 官方reply_service案例

### 2. **實現的API功能**
- ✅ `SKCenterLib_Login` - 登入
- ✅ `GetUserAccount` - 查詢帳號
- ✅ 下單事件處理
- ✅ 回報事件處理

### 3. **事件處理機制**
- ✅ `OnAccount` - 帳號回報
- ✅ `OnOrderReply` - 委託回報
- ✅ `OnFillReport` - 成交回報
- ✅ `OnRealBalanceReport` - 即時庫存

## 🎯 **下一步建議**

### 1. **熟悉介面**
- 先熟悉各個頁籤的功能
- 了解各個參數的意義
- 觀察回報訊息的格式

### 2. **小額測試**
- 使用最小單位進行測試
- 選擇熟悉的股票
- 觀察完整的下單流程

### 3. **進階功能**
- 可以根據需要擴展其他商品下單
- 可以加入更多的風險控制
- 可以整合報價功能

## 🎉 **恭喜！**

你現在擁有了：
- ✅ **成功的登入功能**
- ✅ **完整的下單測試環境**
- ✅ **基於官方案例的實現**
- ✅ **安全的測試機制**

**準備好開始你的下單測試之旅了！** 🚀

---
*下單測試環境建立完成*
*時間: 2025-06-29*
*基於群益證券官方API文件和案例*
